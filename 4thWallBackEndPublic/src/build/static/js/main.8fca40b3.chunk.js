(this.webpackJsonp4thwall=this.webpackJsonp4thwall||[]).push([[0],{383:function(e,a,t){e.exports=t(560)},389:function(e,a,t){},560:function(e,a,t){"use strict";t.r(a);t(384);var n=t(0),r=t.n(n),l=t(14),c=t.n(l),o=(t(389),t(11)),i=t.n(o),s=t(8),m=t(611),u=t(652),d=t(659),p=t(612),E=t(613),f=t(350),b=t(30),h=Object(b.i)((function(e){var a=e.history,t=(e.location,e.match,e.staticContext,e.to),n=e.onClick,l=Object(f.a)(e,["history","location","match","staticContext","to","onClick"]);return r.a.createElement("button",Object.assign({},l,{onClick:function(e){n&&n(e),a.push(t)}}))})),g=function(e){var a=e.companies;console.log("Here are the companies: ",a);var t=Object(n.useState)(""),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(a),f=Object(s.a)(i,2),b=f[0],g=f[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),w=y[0],j=y[1];return Object(n.useEffect)((function(){console.log(a),""===c&&g(a.data);var e=a.filter((function(e){return e.companyName.toLowerCase().includes(c.toLowerCase())}));if(g(e),w){var t=a.filter((function(e){return 0!=e.num_of_reviews}));g(t)}}),[c,a,w]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Group,{controlId:"SearchBar"},r.a.createElement(u.a.Label,null,r.a.createElement("h5",null,"What company are you looking for reviews for?")),r.a.createElement(u.a.Control,{type:"input",placeholder:"Search for...",value:c,onChange:function(e){o(e.target.value)}}),r.a.createElement(u.a.Check,{type:"checkbox",id:"showReviewedchkbox",label:"Only show companies with reviews",onChange:function(e){j(!w)}}))),b.map((function(e,a){return r.a.createElement(d.a,{className:"card mt-3",key:a},r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,{className:"d-flex justify-content-center"},r.a.createElement("h3",null,e.companyName)," ",r.a.createElement("h5",null,r.a.createElement(p.a,{className:"ml-2",variant:"info"},"Reviews: ",e.num_of_reviews))),r.a.createElement(d.a.Text,{className:"d-flex justify-content-center"},r.a.createElement(h,{id:e.company_id,className:"btn btn-primary",to:"/companies/".concat(e.company_id)},"See reviews"))))}))),c&&r.a.createElement(m.a,null,r.a.createElement(E.a,{variant:"primary"},"Can't find what you are looking for? ",r.a.createElement("a",{href:"mailto:zdenardi@gmail.com?subject=Add Company Request"},"Email me if you think I'm missing a company."))))},v=t(614),y=t(615),w=t(306),j=r.a.createContext([{},function(){}]),O=function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement(j.Provider,{value:[l,c]},e.children)},x=function(){return r.a.createElement("form",{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_top"},r.a.createElement("input",{type:"hidden",name:"cmd",value:"_donations"}),r.a.createElement("input",{type:"hidden",name:"business",value:"PDAHCP33RKAHL"}),r.a.createElement("input",{type:"hidden",name:"currency_code",value:"USD"}),r.a.createElement("input",{type:"image",src:"https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif",border:"0",name:"submit",title:"PayPal - The safer, easier way to pay online!",alt:"Donate with PayPal button"}),r.a.createElement("img",{alt:"",border:"0",src:"https://www.paypal.com/en_US/i/scr/pixel.gif",width:"1",height:"1"}))},N=[{date:"3/31/2020",note:"Theater Representative Program testing"},{date:"3/31/2020",note:"Ability to sort by review only"},{date:"3/31/2020",note:"Backend Rebuild and Quality of Life updates"}],C=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=(a[0],a[1]),l=Object(n.useState)([]),c=Object(s.a)(l,2),o=c[0],u=c[1],d=Object(n.useContext)(j),p=Object(s.a)(d,2),f=p[0],b=(p[1],Object(n.useState)()),O=Object(s.a)(b,2),C=(O[0],O[1]);console.log(N),Object(n.useEffect)((function(){!function(){var e,a,n,r;i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(fetch("/api/reviews/"));case 2:return e=l.sent,l.next=5,i.a.awrap(e.json());case 5:return a=l.sent,l.next=8,i.a.awrap(fetch("/api/companies"));case 8:return n=l.sent,l.next=11,i.a.awrap(n.json());case 11:r=l.sent,t(a.data),u(r.data),C(a.total);case 15:case"end":return l.stop()}}))}()}),[]);var S=o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("style",{type:"text/css"},"#homePageJumbo{\n      background-color: rgba(0, 0, 255, 0.1); \n    }",">"),r.a.createElement(v.a,{fluid:!0,id:"homePageJumbo",className:"mt-4"},r.a.createElement(m.a,null,r.a.createElement("h1",{className:"pb-1 display-4"},"FourthWall"),r.a.createElement("p",{className:"font-italic"},"\u201cIf you don\u2019t value your time, neither will others. Stop giving away your time and talents. Value what you know and start charging for it.\u201d \u2013 Kim Garst"))),f.loggedIn?r.a.createElement(m.a,{className:"text-center border-bottom p-5"},r.a.createElement("h3",{className:"text-center mb-4"},"Welcome Back!"),r.a.createElement(y.a,{className:"h-50 align-items-center"},r.a.createElement(w.a,{sm:!0},r.a.createElement(m.a,{className:"border h-100 mb-2"},r.a.createElement("h4",null,"App News"),N.map((function(e,a){return r.a.createElement("ul",{key:a},r.a.createElement("li",{className:"font-weight-bold"},e.date),r.a.createElement("p",null,e.note))})))),r.a.createElement(w.a,{sm:!0},r.a.createElement(m.a,{className:"align-items-center h-100"},r.a.createElement(h,{className:"btn btn-primary mx-auto",to:"/addreview"},"Add a Review"),r.a.createElement(h,{className:"btn btn-primary ml-2",to:"/profile"},"View Your Profile"))))):r.a.createElement(m.a,{className:"text-center border-bottom"},r.a.createElement("h3",{className:"text-center pb-2"},"Login to start sharing your experiences."),r.a.createElement(h,{className:"btn btn-primary mb-4",to:"/login"},"Login"),r.a.createElement(E.a,{variant:"light"},"Are you a company and want to know what you can do?",r.a.createElement(E.a.Link,{href:"/forcompanies"}," Click here!"))),r.a.createElement(m.a,{className:"pt-2"},r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement(x,null)),r.a.createElement(w.a,null,r.a.createElement("p",{className:"font-italic"},"If you found this website helpful, feel free to 'e-gift' a cup of coffee!")))),r.a.createElement(m.a,{className:"pt-5"},r.a.createElement(g,{companies:S})))},S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," This is to add a company"))},R=t(16),k=function(e){var a=e.companies.reduce((function(e,a){var t=a.companyName[0];return e[t=t.toUpperCase()]?e[t].children.push(a):e[t]={group:t,children:[a]},e}),{}),t=Object.values(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container text-center"},t.map((function(e,a){return r.a.createElement("ul",{key:a},r.a.createElement("li",null,r.a.createElement("span",{class:"font-weight-bold"},e.group)),e.children.map((function(e,a){return r.a.createElement(R.b,{key:e.company_id,to:"/companies/".concat(e.company_id)},e.companyName,r.a.createElement("br",null))})))}))))},P=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],l=a[1];Object(n.useEffect)((function(){!function(){var e,a;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("/api/companies"));case 2:return e=t.sent,t.next=5,i.a.awrap(e.json());case 5:a=t.sent,l(a.data);case 7:case"end":return t.stop()}}))}()}),[]);var c=t;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{companies:c}))},_=t(28),F=t(43),W=t(91),T=t.n(W),A=r.a.createContext([{},function(){}]),I=function(e){var a=Object(n.useState)({show:!1}),t=Object(s.a)(a,2),l=t[0],c=t[1];return r.a.createElement(A.Provider,{value:[l,c]},e.children)},D=t(23),L=t.n(D),H=t(48),q=t.n(H),Y=t(616),B=t(657),G=t(617),U=t(347),J=function(e){e.setReviewInfo;var a=e.companies,t=e.theaterId,l=Object(F.a)(),c=l.register,o=l.handleSubmit,i=T()().format("YYYY-MM-DD HH:mm:ss"),d=Object(n.useState)(t),f=Object(s.a)(d,2),h=f[0],g=f[1],v=i,y=Object(n.useState)(""),w=Object(s.a)(y,2),O=w[0],x=w[1],N=Object(n.useState)(""),C=Object(s.a)(N,2),S=C[0],R=C[1],k=Object(n.useState)(null),P=Object(s.a)(k,2),W=P[0],I=P[1],D=Object(n.useState)(null),H=Object(s.a)(D,2),J=H[0],M=H[1],V=Object(n.useState)(null),z=Object(s.a)(V,2),K=z[0],$=z[1],Q=Object(n.useState)(!1),X=Object(s.a)(Q,2),Z=X[0],ee=X[1],ae=Object(n.useState)({}),te=Object(s.a)(ae,2),ne=te[0],re=te[1],le=Object(n.useContext)(j),ce=Object(s.a)(le,2),oe=ce[0],ie=(ce[1],Object(n.useContext)(A)),se=Object(s.a)(ie,2),me=(se[0],se[1]),ue=Object(n.useState)(!1),de=Object(s.a)(ue,2),pe=de[0],Ee=de[1],fe=Object(n.useState)(!1),be=Object(s.a)(fe,2),he=be[0],ge=be[1];var ve=a.find((function(e){return e.company_id==t}));return!1!==Z?r.a.createElement(b.a,{to:"/review/".concat(ne.review_id)}):"rep"===oe.status?(me((function(e){return Object(_.a)({},e,{alert:"You are unable to create reviews as a Representative",type:"warning"})})),r.a.createElement(b.a,{to:"/login"})):r.a.createElement(r.a.Fragment,null,oe.loggedIn?null:r.a.createElement(b.a,{to:"/login"}),r.a.createElement(m.a,{className:"text-center"},r.a.createElement(u.a,{onSubmit:o((function(){(function(e){console.log(e);var a={review_id:e.review_id,user_id:e.user_id,company_id:e.company_id,date:e.date,role:e.role,profRating:e.profRating,worthWhileRating:e.worthWhileRating,rateofPay:e.rateofPay,comment:e.comment,responseAns:e.responseAns};return L.a.post("/api/reviews/",q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log("Trying to add review... "),e})).catch((function(e){return console.log(e),"There was a problem"}))})({user_id:oe.id,company_id:h,date:v,role:O,profRating:S,worthWhileRating:W,rateofPay:J,comment:K,responseAns:pe}).then((function(e){"There was a problem"===e?ge("Hmm...you want to try that again?"):(me((function(e){return Object(_.a)({},e,{alert:"Review Added!",type:"success"})})),re(e.data),ee(!0))}))})),className:"form-horizontal"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Add Review"),!t&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label"},"Company"),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement(U.a,{options:(a||[]).map((function(e,a){return{value:e.company_id,label:e.companyName,key:a}})),onChange:function(e){return g(e.value)},defaultValue:ve?{value:0,label:"yes"}:{value:0,label:"Select a company"}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label"},"Role"),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("select",{id:"roleSelect",name:"RoleSelect",className:"form-control",value:O,ref:c({required:!0}),onChange:function(e){return x(e.target.value)}},r.a.createElement("option",{value:""},"How did you work for them?"),r.a.createElement("option",{value:0},"Actor"),r.a.createElement("option",{value:1},"Designer"),r.a.createElement("option",{value:2},"Director"),r.a.createElement("option",{value:3},"Production")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label",for:"ratingProfessional"},"Professionalism"),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingProfessional-0"},r.a.createElement("input",{type:"radio",name:"ratingProfessional",id:"ratingProfessional-0",value:"1",onChange:function(e){return R(e.target.value)},ref:c({required:!0})}),"1"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingProfessional-1"},r.a.createElement("input",{type:"radio",name:"ratingProfessional",id:"ratingProfessional-1",value:"2",onChange:function(e){return R(e.target.value)},ref:c({required:!0})}),"2"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingProfessional-2"},r.a.createElement("input",{type:"radio",name:"ratingProfessional",id:"ratingProfessional-2",value:"3",onChange:function(e){return R(e.target.value)},ref:c({required:!0})}),"3"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingProfessional-3"},r.a.createElement("input",{type:"radio",name:"ratingProfessional",id:"ratingProfessional-3",value:"4",onChange:function(e){return R(e.target.value)},ref:c({required:!0})}),"4"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingProfessional-4"},r.a.createElement("input",{type:"radio",name:"ratingProfessional",id:"ratingProfessional-4",value:"5",onChange:function(e){return R(e.target.value)},ref:c({required:!0})}),"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement(B.a,{placement:"center",delay:{show:250,hide:400},overlay:function(e){return r.a.createElement(Y.a,e,"Was this job worth it to you artistically/financially")}},r.a.createElement("label",{className:"col-md-4 control-label",for:"ratingWorth"},"Worthwhile?",r.a.createElement(p.a,{className:"p3",pill:!0,variant:"info"},"?"))),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingWorth-0"},r.a.createElement("input",{type:"radio",name:"ratingWorth",id:"ratingWorth-0",value:"1",onChange:function(e){return I(e.target.value)},ref:c}),"1"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingWorth-1"},r.a.createElement("input",{type:"radio",name:"ratingWorth",id:"ratingWorth-1",value:"2",onChange:function(e){return I(e.target.value)},ref:c}),"2"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingWorth-2"},r.a.createElement("input",{type:"radio",name:"ratingWorth",id:"ratingWorth-2",value:"3",onChange:function(e){return I(e.target.value)},ref:c}),"3"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingWorth-3"},r.a.createElement("input",{type:"radio",name:"ratingWorth",id:"ratingWorth-3",value:"4",onChange:function(e){return I(e.target.value)},ref:c}),"4"),r.a.createElement("label",{className:"checkbox-inline px-2",for:"ratingWorth-4"},r.a.createElement("input",{type:"radio",name:"ratingWorth",id:"ratingWorth-4",value:"5",onChange:function(e){return I(e.target.value)},ref:c}),"5"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label",for:"inputPay"},"Rate of Pay"),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("input",{id:"inputpay",name:"inputPay",type:"text",placeholder:"Example: $200 stipend",className:"form-control input-md",value:J,onChange:function(e){return M(e.target.value)},ref:c}),r.a.createElement("span",{className:"help-block"},"Not required "))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label",for:"commentsText"},"Comments:"),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("textarea",{className:"form-control",name:"comment",value:K,onChange:function(e){return $(e.target.value)},ref:c({required:!0})}," "))),r.a.createElement(u.a.Check,{type:"checkbox",id:"responseAns",label:"Are you okay with a Representative from this theater publically respond to this review?",onChange:function(e){return Ee(!pe)}}),r.a.createElement(B.a,{placement:"center",delay:{show:250,hide:400},overlay:function(e){return r.a.createElement(Y.a,e,"A Representative of the Theater would be answer publically about this review. They would not be able ot see your email or be able to personally contact you in anyway.")}},r.a.createElement(p.a,{className:"p3",pill:!0,variant:"info"},"?")),r.a.createElement(E.a,{variant:"light"},"I made FourthWall to help Chicago Theater Artists share their experiences with all the local houses in Chicago without any worry about being blacklisted by anyone or any company. You have total anonymity. With that comes responsibility and I ask you to not to negatively \u201ccall out\u201d a single individual by name or title.",r.a.createElement("br",null),"For Example \u2013 If you had a problem with an Artistic Director at a company, instead of saying \u201cThe Artistic Director made me feel\u2026\u201d instead say \u201cThere were people in this company who made me feel\u2026\u201d."),r.a.createElement(u.a.Check,{required:!0,type:"checkbox",id:"agreementCheck",label:"By checking this box, you agree to follow the rules of FourthWall described above"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label",for:"btnSubmit"}),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement(G.a,{className:"primary",type:"submit"},"Submit")),he&&r.a.createElement(E.a,{variant:"danger"},"Hmm...there was a problem....Please refresh and try again"))))))},M=function(e){var a=e.match,t=Object(n.useState)(),l=Object(s.a)(t,2),c=l[0],o=(l[1],Object(n.useState)([])),m=Object(s.a)(o,2),u=m[0],d=m[1],p=a.params.theaterId;Object(n.useEffect)((function(){!function(){var e,a;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("/api/companies"));case 2:return e=t.sent,t.next=5,i.a.awrap(e.json());case 5:a=t.sent,d(a.data);case 7:case"end":return t.stop()}}))}()}),[]);var E=u;u.find((function(e){return e.company_id==p}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{setReviewInfo:c,companies:E,theaterId:p}))},V=function(e){var a=e.company,t=parseFloat(a.avgProfRating),n=parseFloat(a.avgWorthWhileRating);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container p-2 border mt-2"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:" mx-2 col-sm"},r.a.createElement("h2",null,a.companyName),r.a.createElement("p",null,a.companyDetails?a.companyDetails:"No details listed. Email me if you have some!")),r.a.createElement("div",{class:"col-sm text-center"},a.avgProfRating?r.a.createElement("h4",{class:"mt-2"}," Average Professional Rating - ",t,"/5"):r.a.createElement("h4",{class:"mt-2"},"Be the first to review!"),a.avgWorthWhileRating&&r.a.createElement("h4",{class:"mt-2"},"Average WorthWhile Rating - ",n,"/5"))),r.a.createElement("div",null,r.a.createElement(h,{to:"/addreview/".concat(a.company_id),class:"btn btn-primary btn-lg btn-block"},"Add Review"))))},z=t(653),K=t(648),$=function(e){var a=e.reviews,t=Object(n.useState)(!1),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(),u=Object(s.a)(i,2),p=u[0],E=u[1],f=function(e){E(e),o(!c)};return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,a.map((function(e,a){return r.a.createElement(z.a,{defaultActiveKey:"0"},r.a.createElement(d.a,{className:"card mt-5",key:a},r.a.createElement(z.a.Toggle,{as:d.a.Header,eventKey:"1"},r.a.createElement(d.a.Header,null,r.a.createElement(y.a,null,r.a.createElement(m.a,{className:"text-center"},r.a.createElement("h5",null,e.companyName),r.a.createElement("h6",null,"Pay: ",e.rateofPay?e.rateofPay:"The user did not provide details on pay"),r.a.createElement("h6",null,"Click to see full review"))))),r.a.createElement(z.a.Collapse,{eventKey:"1"},r.a.createElement(d.a.Body,null,r.a.createElement(m.a,null,r.a.createElement(y.a,null,r.a.createElement(w.a,{sm:12,lg:6},r.a.createElement(d.a.Title,null,r.a.createElement("h5",null,"Role: ",e.role))),r.a.createElement(w.a,{sm:12,lg:6},r.a.createElement("Card-text",null,e.comment?e.comment:"No Comment Given")))),r.a.createElement(m.a,{className:"text-center pt-3 text-"},r.a.createElement(y.a,null,r.a.createElement(w.a,null,r.a.createElement("a",{className:"",href:"mailto:zdenardi@gmail.com?subject=Reported Review"},"Report Review")),e.response&&r.a.createElement(w.a,null,r.a.createElement(G.a,{variant:"primary",onClick:function(){f(e)}},"Show Theater Response")))))),r.a.createElement(d.a.Footer,null,r.a.createElement(y.a,null,r.a.createElement(w.a,{className:"text-left"},r.a.createElement("p",null," Professional Rating: ",e.profRating,"/5")),r.a.createElement(w.a,{className:"text-right"},r.a.createElement("p",null," WorthWhile Rating: ",e.worthWhileRating,"/5"))))))})),r.a.createElement(K.a,{show:c,onHide:f},r.a.createElement(K.a.Header,{closeButton:!0},r.a.createElement(K.a.Title,null,"Theater Rep's Response")),r.a.createElement(K.a.Body,null,p?p.response:"No response given"),r.a.createElement(K.a.Footer,null,r.a.createElement(G.a,{variant:"secondary",onClick:f},"Close"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement("h5",null,"There are no reviews, why don't you add one?")))},Q=function(e){var a=e.match.params.id;console.log(a);var t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)([]),u=Object(s.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){!function(){var e,t,n,r;i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(fetch("/api/reviews/companies/".concat(a)));case 2:return e=l.sent,l.next=5,i.a.awrap(e.json());case 5:return t=l.sent,l.next=8,i.a.awrap(fetch("/api/companies/company/".concat(a)));case 8:return n=l.sent,l.next=11,i.a.awrap(n.json());case 11:r=l.sent,o(t.data),p(r.data);case 14:case"end":return l.stop()}}))}()}),[]);var E=c,f=d;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{company:f}),r.a.createElement($,{reviews:E}))},X=function(){return r.a.createElement("div",{class:"container text-center"},r.a.createElement("h1",null," Error 404"),r.a.createElement("h2",null,"Error not found"))},Z=t(177),ee=function(e){Object(Z.a)(e);var a=Object(F.a)(),t=a.register,l=a.handleSubmit,c=Object(n.useState)(),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(),d=Object(s.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)(!1),h=Object(s.a)(f,2),g=h[0],v=h[1];return!0===g?r.a.createElement(b.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"col-md-6 mx-auto text-center"},r.a.createElement("div",{class:"header-title"},r.a.createElement("h1",{class:"wv-heading--title"},"Create Account!"),r.a.createElement("p",{class:"wv-heading--subtitle"},"We promise to keep your anonymity. Your email will only be used to verify you're not a bot. All reviews are posted anonymously."))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4 mx-auto"},r.a.createElement("div",{class:"myform form "},r.a.createElement("form",{onSubmit:l((function(){(function(e){var a={email:"".concat(e.email),password:"".concat(e.password)};return L.a.post("/users/register",q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),console.log("Registered")}))})({email:i,password:p}).then((function(e){v(!0)})),console.log("Button Pressed")})),method:"post",name:"register"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"emailField",class:"form-control my-input",id:"emailField",value:i,onChange:function(e){return m(e.target.value)},ref:t({required:!0}),placeholder:"Email"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"passwordField",class:"form-control my-input",id:"passwordField",placeholder:"Password",value:p,onChange:function(e){return E(e.target.value)},ref:t({required:!0})})),r.a.createElement("div",{class:"text-center "},r.a.createElement("button",{type:"submit",class:" btn btn-block send-button btn-primary"},"Create Your Free Account")),r.a.createElement("p",{class:"small mt-3"},"By signing up, you are indicating that you have read and agree to the ",r.a.createElement("a",{href:"#",class:"ps-hero__content__link"},"Terms\xa0of\xa0Use")," and ",r.a.createElement("a",{href:"#"},"Privacy\xa0Policy"),".")))))))},ae=function(){return r.a.createElement(ee,null)},te=t(167),ne=t.n(te),re=function(e){Object(Z.a)(e);var a=Object(F.a)(),t=a.register,l=a.handleSubmit,c=Object(n.useState)(),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(),d=Object(s.a)(u,2),p=d[0],f=d[1],g=Object(n.useState)(),v=Object(s.a)(g,2),y=v[0],w=v[1],O=Object(n.useContext)(j),x=Object(s.a)(O,2),N=x[0],C=x[1];return r.a.createElement(r.a.Fragment,null,N.loggedIn&&r.a.createElement(b.a,{to:"/"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-6 mx-auto text-center"},r.a.createElement("div",{className:"header-title"},r.a.createElement("h1",{className:"wv-heading--title"},"Login"),r.a.createElement("p",{className:"wv-heading--subtitle"},"We promise to keep your anonymity. Your email will only be used to verify you're not a bot. All reviews are posted anonymously."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement("div",{className:"myform form "},r.a.createElement("form",{onSubmit:l((function(){(function(e){var a={email:"".concat(e.email),password:"".concat(e.password)};return L.a.post("users/login",q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log(e),e.data.message?e:(localStorage.setItem("userToken",e.data),e)})).catch((function(e){return console.log(e),"There was a problem"}))})({email:i,password:p}).then((function(e){if("There was a problem"===e)w("Hmm...you want to try that again?");else{var a=localStorage.getItem("userToken"),t=ne()(a),n=t.email,r=t.user_id,l=t.status;C({loggedIn:!0,id:r,email:n,status:l})}}))})),method:"post",name:"login"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",name:"emailField",className:"form-control my-input",id:"emailField",value:i,onChange:function(e){return m(e.target.value)},placeholder:"Email",ref:t({required:!0})})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"passwordField",className:"form-control my-input",id:"passwordField",placeholder:"Password",value:p,onChange:function(e){return f(e.target.value)},ref:t({required:!0})})),r.a.createElement("div",{className:"text-center "},r.a.createElement("button",{type:"submit",className:" btn btn-block send-button btn-primary"},"Login")))),r.a.createElement("div",{className:"container text-center pt-2"},r.a.createElement(R.b,{to:"/reset"},"I forgot my password...")),r.a.createElement("div",{className:"container text-center pt-5"},r.a.createElement("p",null,"Don't have an account?"),r.a.createElement(h,{className:"btn btn-primary btn-sm btn-block",to:"/register"},"Create one!")),y&&r.a.createElement(E.a,{variant:"danger"},"Hmm...there was a problem....Try again?")))))},le=function(){return r.a.createElement(re,null)},ce=(t(420),t(421),function(){var e=Object(n.useContext)(j),a=Object(s.a)(e,2),t=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"FourthWall"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(R.b,{to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)")," ")),r.a.createElement("li",{className:"nav-item mx-2"},t.loggedIn?r.a.createElement(R.b,{to:"#",onClick:function(){localStorage.removeItem("userToken"),l({loggedIn:!t.loggedIn})}},"Logout"):r.a.createElement(R.b,{to:"/Login"},"Login")),r.a.createElement("li",{className:"nav-item mx-2"},r.a.createElement(R.b,{to:"/AddReview"},"Add Review")),r.a.createElement("li",{className:"nav-item mx-2"},r.a.createElement(R.b,{to:"/Companies"},"View Companies")),t.loggedIn&&r.a.createElement("li",{className:"nav-item mx-2"},r.a.createElement(R.b,{to:"/profile"},"Profile")))))))}),oe=function(e){var a=e.review;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"card mx-auto mt-2",style:{width:400}},r.a.createElement(d.a.Header,null,r.a.createElement(y.a,null,r.a.createElement(m.a,{className:"text-center"},r.a.createElement("h5",null,a.companyName),r.a.createElement("h6",null,"Pay: ",a.rateofPay?a.rateofPay:"The user did not provide details on pay")))),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,null,r.a.createElement("h5",{className:"text-center"},"Role: ",a.role)),r.a.createElement(d.a.Text,null,r.a.createElement("p",null,a.comment)),r.a.createElement(m.a,{className:"d-flex justify-content-center"},r.a.createElement(h,{to:"/profile",class:"btn btn-primary"},"Back To Your Profile"))),r.a.createElement(d.a.Footer,null,r.a.createElement(y.a,null,r.a.createElement(w.a,{className:"text-left"},r.a.createElement("p",null," Professional Rating:",a.profRating,"/5")),r.a.createElement(w.a,{className:"text-right"},r.a.createElement("p",null," WorthWhile Rating:",a.worthWhileRating,"/5"))))))},ie=function(e){var a=e.match.params.id,t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],o=l[1];Object(n.useEffect)((function(){!function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(fetch("/api/reviews/review/".concat(a)));case 2:return e=n.sent,n.next=5,i.a.awrap(e.json());case 5:t=n.sent,o(t.data);case 7:case"end":return n.stop()}}))}()}),[a]);var m=c;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{review:m}))},se=r.a.createContext([{},function(){}]),me=function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),l=t[0],c=t[1];return console.log("context loading"),r.a.createElement(se.Provider,{value:[l,c]},e.children)},ue=t(618),de=(localStorage.getItem("userToken"),function(e){var a=e.review,t=e.companies,l=Object(F.a)(),c=l.register,o=l.handleSubmit,i=Object(n.useContext)(j),d=Object(s.a)(i,2),E=d[0],f=(d[1],Object(n.useContext)(A)),g=Object(s.a)(f,2),v=(g[0],g[1]),y=Object(n.useState)(!1),O=Object(s.a)(y,2),x=O[0],N=O[1],C=(T()().format("YYYY-MM-DD HH:mm:ss"),[1,2,3,4,5]),S=["Actor","Designer","Director","Production"],R=S.indexOf(a.role),k=Object(n.useState)(!1),P=Object(s.a)(k,2),W=(P[0],P[1],C.map((function(e){return e===a.profRating?r.a.createElement(u.a.Check,{inline:!0,label:e,name:"profRating",type:"radio",value:e,onChange:function(e){return a.profRating=e.target.value},ref:c({required:!0}),defaultChecked:!0}):r.a.createElement(u.a.Check,{inline:!0,label:e,name:"profRating",type:"radio",value:e,onChange:function(e){return a.profRating=e.target.value},ref:c({required:!0})})}))),I=C.map((function(e){return e===a.worthWhileRating?r.a.createElement(u.a.Check,{inline:!0,label:e,name:"worthWhileRating",type:"radio",value:e,onChange:function(e){return a.worthWhileRating=e.target.value},ref:c({required:!0}),defaultChecked:!0}):r.a.createElement(u.a.Check,{inline:!0,label:e,name:"worthWhileRating",type:"radio",value:e,onChange:function(e){return a.worthWhileRating=e.target.value},ref:c({required:!0})})}));return!0===x?r.a.createElement(b.a,{to:"/review/".concat(a.review_id)}):a.user_id?r.a.createElement(r.a.Fragment,null,E.id!=a.user_id&&r.a.createElement(b.a,{to:"/profile"}),r.a.createElement(m.a,{className:"text-center"},r.a.createElement(u.a,{onSubmit:o((function(){(function(e){if(console.log(e),isNaN(e.role)){var a=["Actor","Designer","Director","Production"].indexOf(e.role);e.role=a}var t={review_id:e.review_id,company_id:e.company_id,date:e.date,role:e.role,profRating:e.profRating,worthWhileRating:e.worthWhileRating,rateofPay:e.rateofPay,comment:e.comment,responseAns:e.responseAns};return L.a.put("/api/reviews/review/".concat(e.company_id),q.a.stringify(t),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log(e),e.data}))})(a).then((function(e){v((function(e){return Object(_.a)({},e,{alert:"Review Edited!",type:"success"})})),N(!0)}))})),className:"form-horizontal"},r.a.createElement(u.a.Group,{controlId:"formEditReview"},r.a.createElement("legend",null,"Edit Review"),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label"},"Company"),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(u.a.Control,{as:"select",id:"CompanySelect",name:"CompanySelect",onChange:function(e){return a.company_id=e.target.value},ref:c({required:!0})},r.a.createElement("option",{value:a.company_id},a.companyName),t.map((function(e,a){return r.a.createElement("option",{key:a,value:e.company_id},e.companyName)}))))),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"roleSelect"},"Role"),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(u.a.Control,{as:"select",id:"roleSelect",name:"Role",className:"form-control",defaultValue:S[R],ref:c({required:!0}),onChange:function(e){return a.role=e.target.value}},r.a.createElement("option",{value:R},a.role),r.a.createElement("option",{value:0},"Actor"),r.a.createElement("option",{value:1},"Designer"),r.a.createElement("option",{value:2},"Director"),r.a.createElement("option",{value:3},"Production")))),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"ratingProfessional"},"Professionalism"),r.a.createElement("div",null,W)),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"ratingProfessional"},"WorthWhile"),r.a.createElement("div",null,I)),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"inputPay"},"Rate of Pay"),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(u.a.Control,{id:"inputpay",name:"RateOfPay",as:"textarea",className:"form-control input-md",onChange:function(e){return a.rateofPay=e.target.value},ref:c,defaultValue:a.rateofPay}),r.a.createElement("span",{className:"help-block"},"Not required "))),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"input"},"Comments:"),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(u.a.Control,{id:"inputComment",defaultValue:a.comment,name:"Comment",as:"textarea",className:"form-control input-md",onChange:function(e){return a.comment=e.target.value},ref:c})))),r.a.createElement(u.a.Group,null,r.a.createElement("div",null,1!=parseInt(a.responseAns)?r.a.createElement(u.a.Check,{type:"checkbox",id:"responseAns",label:"Are you okay with a Representative from this theater publically respond to this review?",onChange:function(e){return a.responseAns="1"}}):r.a.createElement(u.a.Check,{type:"checkbox",defaultChecked:!0,id:"responseAns",label:"Are you okay with a Representative from this theater publically respond to this review?",onChange:function(e){return a.responseAns="0"}})),r.a.createElement(B.a,{placement:"center",delay:{show:250,hide:400},overlay:function(e){return r.a.createElement(Y.a,e,"A Representative of the Theater would be answer publically about this review. They would not be able ot see your email or be able to personally contact you in anyway.")}},r.a.createElement(p.a,{className:"p3",pill:!0,variant:"info"},"?"))),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(G.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement(h,{to:"/profile",class:"btn btn-primary m-2"},"Back To List")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"justify-content-center"},r.a.createElement(ue.a,{animation:"grow"})))}),pe=function(e){var a=e.match.params.id,t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)([]),u=Object(s.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(!1),f=Object(s.a)(E,2),h=f[0],g=f[1],v=Object(n.useContext)(j),y=Object(s.a)(v,2),w=y[0];y[1];Object(n.useEffect)((function(){!1===h&&(!function(){var e,t,n,r;i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(fetch("/api/reviews/review/".concat(a)));case 2:return e=l.sent,l.next=5,i.a.awrap(e.json());case 5:return t=l.sent,o(t.data),l.next=9,i.a.awrap(fetch("/api/companies"));case 9:return n=l.sent,l.next=12,i.a.awrap(n.json());case 12:r=l.sent,p(r.data);case 14:case"end":return l.stop()}}))}(),g(!0))}),[h]);var O=d,x=c;return r.a.createElement(r.a.Fragment,null,w.loggedIn?null:r.a.createElement(b.a,{to:"/login"}),h?r.a.createElement(de,{review:x,companies:O}):r.a.createElement(ue.a,{animation:"grow"}))},Ee=t(619),fe=function(e){var a=e.id,t=e.status,l=Object(n.useState)(),c=Object(s.a)(l,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){!function(){var e="rep"===t?"api/reviews/rep/".concat(a):"/api/reviews/user/".concat(a);L.a.get(e,{}).then((function(e){var a=e.data;console.log(a.data),i(a.data)})).catch((function(e){console.log(e),console.log(e.message)}))}()}),[]),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Company"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Date Posted"))),r.a.createElement("tbody",null,o.map((function(e,a){return r.a.createElement("tr",null,r.a.createElement("td",null,e.companyName),r.a.createElement("td",null,e.role),r.a.createElement("td",null,T()(e.date).format("MM/DD/YYYY")),"rep"===t?r.a.createElement("td",null,r.a.createElement(R.b,{to:"/rep/".concat(e.review_id)},"See Review")):r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(R.b,{to:"/review/edit/".concat(e.review_id)},"Edit")),r.a.createElement("td",null,r.a.createElement(R.b,{to:"/review/Delete/".concat(e.review_id)},"Delete"))))}))))):r.a.createElement(m.a,null,r.a.createElement("p",null,"No reviews just yet"))},be=function(){var e=Object(n.useContext)(j),a=Object(s.a)(e,2),t=a[0],l=(a[1],t.id),c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){console.log("Is loaded")}),[]),!1===i?(u(!0),r.a.createElement(m.a,null,r.a.createElement(ue.a,null))):r.a.createElement(r.a.Fragment,null,!t.loggedIn&&r.a.createElement(b.a,{to:"/login"}),r.a.createElement("div",null,r.a.createElement("h3",{class:"text-center bg-white p-2 ml-5 mr-5"}," User Profile"),r.a.createElement("div",{class:"container mt-3 border bg-white"},r.a.createElement("p",null,"Email: ",t.email),r.a.createElement("p",null,"Status: ",function(){switch(t.status){case"rep":return"Representative";case"user":return"User";case"admin":return"Administrator"}}())),r.a.createElement("div",{class:"container mt-3 p-5 border bg-white"},"rep"===t.status&&r.a.createElement("p",null,"Here are all the reviews that are respondable."),r.a.createElement(fe,{id:l,status:t.status}))))},he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(be,null))},ge=t(81),ve=function(){var e=Object(F.a)(),a=e.register,t=e.handleSubmit,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),p=(d[0],d[1]),E=Object(n.useState)(!1),f=Object(s.a)(E,2),b=(f[0],f[1],Object(n.useState)("")),h=Object(s.a)(b,2),g=(h[0],h[1]),v=Object(n.useContext)(A),y=Object(s.a)(v,2),w=y[0],j=y[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),N=x[0],C=x[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"col-md-6 mx-auto text-center"},r.a.createElement("div",{class:"header-title"},r.a.createElement("h1",{class:"wv-heading--title"},"Password Reset"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4 mx-auto"},r.a.createElement("div",{class:"myform form "},r.a.createElement("form",{onSubmit:t((function(e){""===o?(p(!0),j((function(e){return Object(_.a)({},e,{alert:"Please enter your email!",type:"danger"})}))):(C(!0),L.a.post("/users/forgotPassword",{email:o}).then((function(e){"email not in db"===e.data?(p(!0),g("")):"recovery email sent"===e.data&&p(!1)})).catch((function(e){j(Object(_.a)({},w,{alert:"Uhoh...we had a problem. Please contact the Administrator",type:"danger"}))})))})),method:"post",name:"reset"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"emailField",class:"form-control my-input",id:"emailField",value:o,onChange:function(e){return i(e.target.value)},placeholder:"Input your email",ref:a({required:!0})})),r.a.createElement("div",{class:"text-center "},r.a.createElement("button",{type:"submit",class:" btn btn-block send-button btn-primary"},"Reset Password")))))),N&&r.a.createElement(ge.a,{in:N},r.a.createElement(m.a,{className:"col-md-6 mx-auto text-center"},r.a.createElement("p",null," If your email is the database, you will revieve and email shortly. Please check your inbox and follow instructions there.")))))},ye=function(){return r.a.createElement(ve,null)},we=function(e){var a=e.match,t=Object(F.a)(),l=t.register,c=t.handleSubmit,o=Object(n.useState)(""),u=Object(s.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(""),f=Object(s.a)(E,2),b=f[0],g=f[1],v=Object(n.useState)(null),y=Object(s.a)(v,2),w=y[0],j=y[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),N=x[0],C=x[1],S=Object(n.useState)(!1),R=Object(s.a)(S,2),k=R[0],P=R[1],_=Object(n.useState)(a.params.token),W=Object(s.a)(_,2),T=W[0];W[1];Object(n.useEffect)((function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:L.a.get("/users/reset",{params:{resetPasswordToken:T}}).then((function(e){"password reset link ok"===e.data.message?(p(e.data.email),j(!1),C(!1),P(!1)):(j(!1),C(!1),P(!0))})).catch((function(e){console.log(k.data)}));case 1:case"end":return e.stop()}}))}),[]);return k?r.a.createElement(m.a,null,r.a.createElement("h4",null,"Problems resetting password. Please send another reset link")):N?r.a.createElement(m.a,null,r.a.createElement("p",null," Loading User Data...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"col-md-6 mx-auto text-center"},r.a.createElement("div",{class:"header-title"},r.a.createElement("h1",{class:"wv-heading--title"},"Password Reset"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-4 mx-auto"},r.a.createElement("div",{class:"myform form "},r.a.createElement("form",{onSubmit:c((function(e){L.a.put("/users/updatePasswordViaEmail",{email:d,password:b}).then((function(e){console.log(e.data),"password updated"===e.data.message?(j(!0),P(!1)):(j(!1),P(!0))})).catch((function(e){console.log(e.data)}))})),method:"post",name:"register"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"passwordField",class:"form-control my-input",id:"passwordField",placeholder:"New Password",value:b,onChange:function(e){return g(e.target.value)},ref:l({required:!0})})),r.a.createElement("div",{class:"text-center "},r.a.createElement("button",{type:"submit",class:" btn btn-block send-button btn-primary"},"Update Password"))),w&&r.a.createElement(m.a,null,r.a.createElement("p",null,"Your password has been successfully reset, please try logging in again."),r.a.createElement(h,{to:"Login",class:"btn btn-primary"},"Login")))))))},je=function(e){var a=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,{match:a}))},Oe=function(e){var a=e.review,t=a.review_id,l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],u=Object(n.useContext)(A),p=Object(s.a)(u,2),E=(p[0],p[1]),f=Object(n.useContext)(j),g=Object(s.a)(f,2),v=g[0];g[1];return!0===o?r.a.createElement(b.a,{to:"/profile"}):a.user_id?r.a.createElement(r.a.Fragment,null,v.loggedIn?null:r.a.createElement(b.a,{to:"/login"}),v.id!=a.user_id&&r.a.createElement(b.a,{to:"/profile"}),r.a.createElement(m.a,{className:"text-center pb-2 pt-2"},r.a.createElement("h1",null,"Delete a review")),r.a.createElement(d.a,{className:"card mx-auto mt-2",style:{width:400}},r.a.createElement(d.a.Header,null,r.a.createElement(y.a,null,r.a.createElement(m.a,{className:"text-center"},r.a.createElement("h5",null,a.companyName),r.a.createElement("h6",{class:"text-center"},"Pay: ",a.rateofPay)))),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,null,r.a.createElement("h5",{className:"text-center"},"Role: ",a.role)),r.a.createElement(d.a.Text,null,r.a.createElement("p",null,a.comment)),r.a.createElement(m.a,{className:"d-flex justify-content-center"},r.a.createElement(G.a,{variant:"danger",class:"m-2",onClick:function(){(function(e){console.log(e);var a={user_id:e.user_id,review_id:e.review_id};return L.a.delete("/api/reviews/review/".concat(e.review_id),q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log(e),console.log("Review Delete"),e.data}))})({review_id:t,user_id:v.id}).then((function(e){})),E((function(e){return Object(_.a)({},e,{alert:"Review Deleted!",type:"danger"})})),i(!0)}},"Delete")),r.a.createElement(m.a,{className:"d-flex justify-content-center"},r.a.createElement(h,{to:"/profile",class:"btn btn-primary m-2"},"Back To List"))),r.a.createElement(d.a.Footer,null,r.a.createElement(y.a,null,r.a.createElement(w.a,{className:"text-left"},r.a.createElement("p",null," Professional Rating:",a.profRating,"/5")),r.a.createElement(w.a,{className:"text-right"},r.a.createElement("p",null," WorthWhile Rating:",a.worthWhileRating,"/5")))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"justify-content-center"},r.a.createElement(ue.a,{animation:"grow"})))},xe=function(e){var a=e.match.params.id,t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],p=u[1],E=Object(n.useContext)(A),f=Object(s.a)(E,2),h=(f[0],f[1]);Object(n.useEffect)((function(){!1===d&&(!function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(fetch("/api/reviews/review/".concat(a)));case 2:return e=n.sent,n.next=5,i.a.awrap(e.json());case 5:t=n.sent,o(t.data);case 7:case"end":return n.stop()}}))}(),p(!0))}),[d]);var g=c;return g?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,{review:g})):(h((function(e){return Object(_.a)({},e,{alert:"Error:Review does not exist",type:"danger"})})),r.a.createElement(b.a,{to:"/profile"}))},Ne=t(646),Ce=t(645),Se=t(647),Re=t(649),ke=t(635),Pe=t(636),_e=function(e){return r.a.createElement(Se.a,Object.assign({},e,{title:"List of Reviews",sort:{field:"review_id",order:"ASC"}}),r.a.createElement(Re.a,{rowClick:"edit"},r.a.createElement(ke.a,{source:"review_id"}),r.a.createElement(ke.a,{source:"companyName"}),r.a.createElement(ke.a,{source:"role"}),r.a.createElement(ke.a,{source:"profRating"}),r.a.createElement(ke.a,{source:"worthWhileRating"}),r.a.createElement(ke.a,{source:"rateofPay"}),r.a.createElement(ke.a,{source:"comment"}),r.a.createElement(Pe.a,null),">"))},Fe=t(637),We=function(e){return r.a.createElement(Se.a,Object.assign({},e,{sort:{field:"companyName",order:"ASC"}}),r.a.createElement(Re.a,{rowClick:"edit"},r.a.createElement(ke.a,{source:"companyName"}),r.a.createElement(ke.a,{source:"companyDetails"}),r.a.createElement(Fe.a,{source:"num_of_reviews"}),r.a.createElement(Pe.a,null)))},Te=t(655),Ae=t(650),Ie=t(651),De=t(660),Le=t(643),He=t(644),qe=function(e){return r.a.createElement(Te.a,e,r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{source:"review_id",reference:"reviews"},r.a.createElement(De.a,{optionText:"id"})),r.a.createElement(Le.a,{source:"role"}),r.a.createElement(He.a,{source:"profRating"}),r.a.createElement(He.a,{source:"worthWhileRating"}),r.a.createElement(Le.a,{source:"rateofPay"}),r.a.createElement(Le.a,{source:"comment"}),r.a.createElement(Le.a,{source:"companyName"})))},Ye=function(e){return r.a.createElement(Te.a,e,r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,{source:"company_id",reference:"companies"},r.a.createElement(De.a,{optionText:"id"})),r.a.createElement(Le.a,{source:"companyName"}),r.a.createElement(Le.a,{source:"companyDetails"}),r.a.createElement(He.a,{source:"num_of_reviews"}),r.a.createElement(Le.a,{source:"id"})))},Be=t(661),Ge=function(e){return r.a.createElement(Be.a,e,r.a.createElement(Ae.a,null,r.a.createElement(Le.a,{source:"companyName"}),r.a.createElement(Le.a,{multiline:!0,source:"companyDetails"})))},Ue=t(165),Je="https://localhost:8001",Me=Ue.a.fetchJson,Ve={create:function(e,a){var t,n,r,l;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=a.data,n=t.companyName,r=t.companyDetails,l="/api/".concat(e),L.a.post("".concat(l),{companyName:"".concat(n),companyDetails:"".concat(r)}).then((function(e){return{data:Object(_.a)({},e,{id:e.company_id})}}));case 3:case"end":return c.stop()}}))},getList:function(e,a){var t,n,r,l,c,o,s,m,u,d;return i.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return t=a.pagination,n=t.page,r=t.perPage,l=a.sort,c=l.field,o=l.order,{sort:JSON.stringify([c,o]),range:JSON.stringify([(n-1)*r,n*r-1]),filter:JSON.stringify(a.filter)},"/api/",s="".concat("/api/","/").concat(e,"?order=").concat(o,"&sort=").concat(c,"&page=").concat(n,"&pageSize=").concat(r),p.next=7,i.a.awrap(L.a.get("".concat(s)));case 7:return m=p.sent,p.next=10,i.a.awrap(m.data.data);case 10:return u=p.sent,p.next=13,i.a.awrap(m.data.total);case 13:d=p.sent,p.t0=e,p.next="reviews"===p.t0?17:"companies"===p.t0?19:"users"===p.t0?21:23;break;case 17:return p.abrupt("return",{data:u.map((function(e){return Object(_.a)({},e,{id:e.review_id})})),total:d});case 19:return p.abrupt("return",{data:u.map((function(e){return Object(_.a)({},e,{id:e.company_id})})),total:d});case 21:return p.abrupt("return",{data:u.map((function(e){return Object(_.a)({},e,{id:e.user_id})})),total:d});case 23:case"end":return p.stop()}}))},getMany:function(e,a){var t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={filter:JSON.stringify({id:a.company_ids})},n="".concat(Je,"/").concat(e,"?").concat(Object(H.stringify)(t)),r.next=4,i.a.awrap(L.a.get(n).then((function(e){return{data:e.json}})));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}))},getOne:function(e,a){var t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="reviews"===r.t0?3:"companies"===r.t0?8:13;break;case 3:return r.next=5,i.a.awrap(L.a.get("/api/".concat(e,"/review/").concat(a.id)));case 5:return t=r.sent,r.abrupt("return",Object(_.a)({},t.data,{id:t.data.review_id}));case 8:return r.next=10,i.a.awrap(L.a.get("/api/".concat(e,"/company/").concat(a.id)));case 10:return n=r.sent,r.abrupt("return",Object(_.a)({},n.data,{id:n.data.company_id}));case 13:case"end":return r.stop()}}))},update:function(e,a){var t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=e,r.next="reviews"===r.t0?3:(r.t0,8);break;case 3:return t={review_id:a.params_id,company_id:a.company_id,date:a.date,role:a.role,profRating:a.profRating,worthWhileRating:a.worthWhileRating,rateofPay:a.rateofPay,comment:a.comment},n={headers:{"content-type":"application/x-www-form-urlencoded"}},r.next=7,i.a.awrap(L.a.put("/api/".concat(e,"/review/").concat(a.id),H.qs.stringify(t),n).then((function(e){return{data:e.json}})));case 7:return r.abrupt("break",8);case 8:case"end":return r.stop()}}))},delete:function(e,a){return console.log("Trying to delete",a),alert("Deleting"),Me("/api/reviews/review/".concat(a.id),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(e,a){console.log(a);var t={filter:JSON.stringify({id:a.ids})};return Me("".concat(Je,"/").concat(e,"?").concat(Object(H.stringify)(t)),{method:"DELETE",body:JSON.stringify(a.data)}).then((function(e){return{data:e.json}}))}},ze=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=(a[0],a[1],Object(n.useContext)(j)),l=Object(s.a)(t,2),c=l[0],o=(l[1],Ve);return r.a.createElement(r.a.Fragment,null,c.loggedIn?"Logged in":"Not Logged in",r.a.createElement(Ne.a,{dataProvider:o},r.a.createElement(Ce.a,{name:"reviews",list:_e,edit:qe}),r.a.createElement(Ce.a,{name:"companies",list:We,edit:Ye,create:Ge})))},Ke=(localStorage.getItem("userToken"),function(e){var a=e.review,t=(e.companies,Object(F.a)()),l=t.register,c=t.handleSubmit,o=Object(n.useContext)(j),i=Object(s.a)(o,2),p=(i[0],i[1],Object(n.useContext)(A)),E=Object(s.a)(p,2),f=(E[0],E[1]),g=Object(n.useState)(!1),v=Object(s.a)(g,2),O=v[0],x=v[1];T()().format("YYYY-MM-DD HH:mm:ss"),["Actor","Designer","Director","Production"].indexOf(a.role);return!0===O?r.a.createElement(b.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"text-center p-5"},r.a.createElement(oe,{review:a})),r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"card mx-auto mt-2",style:{width:400}},r.a.createElement(d.a.Header,null,r.a.createElement(y.a,null,r.a.createElement(m.a,{className:"text-center"},r.a.createElement("h6",null,"Your Current Response")))),r.a.createElement(d.a.Body,null,r.a.createElement("p",null,a.response?a.response:"You currently have not responded to this review")))),r.a.createElement(m.a,{className:"text-center p-5"},r.a.createElement(u.a,{onSubmit:c((function(){(function(e){var a={response:e.response,review_id:e.review_id};return L.a.put("/api/reviews/test",q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log(e),e}))})(a).then((function(e){console.log("Here is the res : ",e),f((function(e){return Object(_.a)({},e,{alert:"Response Added!",type:"success"})})),x(!0)}))})),className:"form-horizontal"},r.a.createElement(u.a.Group,{controlId:"formEditReview"},r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Label,{className:"col-md-4 control-label",for:"input"},"Add your response to the review here:"),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(u.a.Control,{id:"inputComment",name:"Comment",as:"textarea",className:"form-control input-md",onChange:function(e){return a.response=e.target.value},ref:l})))),r.a.createElement(w.a,{className:"col-md-4 mx-auto"},r.a.createElement(G.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement(h,{to:"/profile",class:"btn btn-primary m-2"},"Back To List"))))}),$e=function(e){var a=e.match.params.id,t=Object(n.useState)({}),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)(!1),u=Object(s.a)(m,2),d=u[0],p=u[1],E=Object(n.useContext)(j),f=Object(s.a)(E,2),h=f[0];f[1];Object(n.useEffect)((function(){!1===d&&(!function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(fetch("/api/reviews/review/".concat(a)));case 2:return e=n.sent,n.next=5,i.a.awrap(e.json());case 5:t=n.sent,o(t.data);case 7:case"end":return n.stop()}}))}(),p(!0))}),[d]);var g=c;return r.a.createElement(r.a.Fragment,null,h.loggedIn?null:r.a.createElement(b.a,{to:"/login"}),d?r.a.createElement(Ke,{review:g}):r.a.createElement(ue.a,{animation:"grow"}))},Qe=function(){var e=Object(F.a)(),a=(e.register,e.handleSubmit),t=Object(n.useState)(),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(),d=Object(s.a)(i,2),p=d[0],f=d[1],h=Object(n.useState)(),g=Object(s.a)(h,2),v=g[0],j=g[1],O=Object(n.useContext)(A),x=Object(s.a)(O,2),N=(x[0],x[1]),C=Object(n.useState)(!1),S=Object(s.a)(C,2),R=S[0],k=S[1];return!1!==R?r.a.createElement(b.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{className:"p-5"},r.a.createElement(y.a,null,r.a.createElement(w.a,{sm:12,md:6,ClassName:"pb-5"},r.a.createElement(u.a,{onSubmit:a((function(){(function(e){console.log("Here is the submission: ",e);var a={email:e.email,comment:e.comment};return L.a.post("/users/rep",q.a.stringify(a),{headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log(e),e})).catch((function(e){return console.log(e),"There was a problem"}))})({email:c,comment:p}).then((function(e){console.log(e),"There was a problem"===e?j("Hmm...you want to try that again?"):(N((function(e){return Object(_.a)({},e,{alert:"Submission Sent!",type:"success"})})),console.log("Hitting this"),k(!0))}))}))},r.a.createElement(u.a.Group,{controlId:"repEmailForm"},r.a.createElement(u.a.Label,null," ",r.a.createElement("h3",null,"Theater Representative Application")),r.a.createElement(u.a.Control,{required:!0,type:"email",placeholder:"Your email",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Control,{required:!0,type:"textarea",placeholder:"The company you will be representing",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(u.a.Group,null,r.a.createElement(u.a.Check,{required:!0,type:"checkbox",label:"I have read the rules and information about the Theater Representative"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-md-4 control-label",for:"btnSubmit"}),r.a.createElement("div",{className:"col-md-4 mx-auto"},r.a.createElement(G.a,{className:"primary",type:"submit"},"Submit")),v&&r.a.createElement(E.a,{variant:"danger"},"Hmm...there was a problem....Please refresh and try again")))),r.a.createElement(w.a,{sm:6},r.a.createElement("p",null,"We've heard from Theater Companies around Chicago that they want the ability to address concerns that are presented in the reviews posted at FourthWall. "),r.a.createElement("br",null),r.a.createElement("p",null," To be considered for this program you must have/agree to the following"),r.a.createElement("ul",null,r.a.createElement("li",null,"Understand that you will only be able to reply to the review publically without contacting the reviewer"),r.a.createElement("li",null,"Must have an email address that has the theater that you are representing in it. (For Example: info@Fourthwall.com)"),r.a.createElement("li",null,"Understand that reviewers can choose whether or not you can respond to their review. ")),r.a.createElement("p",null,"If you are a Theater and want to try out the Representative Program, please fill out the form and I will get back to you.")))))},Xe=function(){var e=Object(n.useContext)(A),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(!0),d=Object(s.a)(u,2),p=d[0],f=d[1];return Object(n.useEffect)((function(){if(!0===p)f(!1);else if(t.alert){if(!1!==i){var e=setTimeout((function(){l({alert:null})}),3e3);return function(){return clearTimeout(e)}}m(!0)}else m(!1)}),[t.alert,p,i]),!0===i?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{id:"alertbox",variant:t.type},r.a.createElement(E.a.Heading,null,t.alert))):null};var Ze=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,r.a.createElement(me,null,r.a.createElement(O,null,r.a.createElement(R.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ce,null),r.a.createElement(Xe,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",component:C,exact:!0}),r.a.createElement(b.b,{path:"/forcompanies",component:Qe}),r.a.createElement(b.b,{path:"/Profile",component:he}),r.a.createElement(b.b,{path:"/Reset",component:ye,exact:!0}),r.a.createElement(b.b,{path:"/AddReview/:theaterId",component:M}),r.a.createElement(b.b,{path:"/AddReview/",component:M}),r.a.createElement(b.b,{path:"/admin",component:ze}),r.a.createElement(b.b,{path:"/review/edit/:id",component:pe}),r.a.createElement(b.b,{path:"/review/delete/:id",component:xe}),r.a.createElement(b.b,{path:"/review/edit/:id",component:pe}),r.a.createElement(b.b,{path:"/review/:id",component:ie}),r.a.createElement(b.b,{path:"/AddCompany",component:S}),r.a.createElement(b.b,{path:"/Register",component:ae}),r.a.createElement(b.b,{path:"/Login",component:le}),r.a.createElement(b.b,{path:"/companies/:id",component:Q}),r.a.createElement(b.b,{path:"/companies",component:P}),r.a.createElement(b.b,{path:"/rep/:id",component:$e}),r.a.createElement(b.b,{path:"/reset/:token",component:je}),r.a.createElement(b.b,{component:X}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){return r.a.createElement(Ze,null)}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[383,1,2]]]);
//# sourceMappingURL=main.8fca40b3.chunk.js.map